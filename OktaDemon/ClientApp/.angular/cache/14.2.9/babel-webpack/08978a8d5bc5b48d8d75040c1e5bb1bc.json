{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { clone, omit } from '../../util/object.js';\nimport { isObject } from '../../util/types.js';\nimport { links2fns } from './links2fns.js';\n\nfunction flattenEmbedded(sdk, tx, res, obj, ref) {\n  obj = obj || res;\n  obj = clone(obj);\n\n  if (Array.isArray(obj)) {\n    var objArr = [];\n\n    for (var o = 0, ol = obj.length; o < ol; o++) {\n      objArr.push(flattenEmbedded(sdk, tx, res, obj[o], ref));\n    }\n\n    return objArr;\n  }\n\n  var embedded = obj._embedded || {};\n\n  for (var key in embedded) {\n    if (!Object.prototype.hasOwnProperty.call(embedded, key)) {\n      continue;\n    }\n\n    if (isObject(embedded[key]) || Array.isArray(embedded[key])) {\n      embedded[key] = flattenEmbedded(sdk, tx, res, embedded[key], ref);\n    }\n  }\n\n  var fns = links2fns(sdk, tx, res, obj, ref);\n  Object.assign(embedded, fns);\n  obj = omit(obj, '_embedded', '_links');\n  Object.assign(obj, embedded);\n  return obj;\n}\n\nexport { flattenEmbedded };","map":{"version":3,"names":["clone","omit","isObject","links2fns","flattenEmbedded","sdk","tx","res","obj","ref","Array","isArray","objArr","o","ol","length","push","embedded","_embedded","key","Object","prototype","hasOwnProperty","call","fns","assign"],"sources":["C:/Users/Narean/source/repos/OktaDemon/OktaDemon/ClientApp/node_modules/@okta/okta-auth-js/esm/browser/authn/util/flattenEmbedded.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { clone, omit } from '../../util/object.js';\nimport { isObject } from '../../util/types.js';\nimport { links2fns } from './links2fns.js';\n\nfunction flattenEmbedded(sdk, tx, res, obj, ref) {\n    obj = obj || res;\n    obj = clone(obj);\n    if (Array.isArray(obj)) {\n        var objArr = [];\n        for (var o = 0, ol = obj.length; o < ol; o++) {\n            objArr.push(flattenEmbedded(sdk, tx, res, obj[o], ref));\n        }\n        return objArr;\n    }\n    var embedded = obj._embedded || {};\n    for (var key in embedded) {\n        if (!Object.prototype.hasOwnProperty.call(embedded, key)) {\n            continue;\n        }\n        if (isObject(embedded[key]) || Array.isArray(embedded[key])) {\n            embedded[key] = flattenEmbedded(sdk, tx, res, embedded[key], ref);\n        }\n    }\n    var fns = links2fns(sdk, tx, res, obj, ref);\n    Object.assign(embedded, fns);\n    obj = omit(obj, '_embedded', '_links');\n    Object.assign(obj, embedded);\n    return obj;\n}\n\nexport { flattenEmbedded };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,KAAT,EAAgBC,IAAhB,QAA4B,sBAA5B;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,SAAT,QAA0B,gBAA1B;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,EAA9B,EAAkCC,GAAlC,EAAuCC,GAAvC,EAA4CC,GAA5C,EAAiD;EAC7CD,GAAG,GAAGA,GAAG,IAAID,GAAb;EACAC,GAAG,GAAGR,KAAK,CAACQ,GAAD,CAAX;;EACA,IAAIE,KAAK,CAACC,OAAN,CAAcH,GAAd,CAAJ,EAAwB;IACpB,IAAII,MAAM,GAAG,EAAb;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,EAAE,GAAGN,GAAG,CAACO,MAAzB,EAAiCF,CAAC,GAAGC,EAArC,EAAyCD,CAAC,EAA1C,EAA8C;MAC1CD,MAAM,CAACI,IAAP,CAAYZ,eAAe,CAACC,GAAD,EAAMC,EAAN,EAAUC,GAAV,EAAeC,GAAG,CAACK,CAAD,CAAlB,EAAuBJ,GAAvB,CAA3B;IACH;;IACD,OAAOG,MAAP;EACH;;EACD,IAAIK,QAAQ,GAAGT,GAAG,CAACU,SAAJ,IAAiB,EAAhC;;EACA,KAAK,IAAIC,GAAT,IAAgBF,QAAhB,EAA0B;IACtB,IAAI,CAACG,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,QAArC,EAA+CE,GAA/C,CAAL,EAA0D;MACtD;IACH;;IACD,IAAIjB,QAAQ,CAACe,QAAQ,CAACE,GAAD,CAAT,CAAR,IAA2BT,KAAK,CAACC,OAAN,CAAcM,QAAQ,CAACE,GAAD,CAAtB,CAA/B,EAA6D;MACzDF,QAAQ,CAACE,GAAD,CAAR,GAAgBf,eAAe,CAACC,GAAD,EAAMC,EAAN,EAAUC,GAAV,EAAeU,QAAQ,CAACE,GAAD,CAAvB,EAA8BV,GAA9B,CAA/B;IACH;EACJ;;EACD,IAAIe,GAAG,GAAGrB,SAAS,CAACE,GAAD,EAAMC,EAAN,EAAUC,GAAV,EAAeC,GAAf,EAAoBC,GAApB,CAAnB;EACAW,MAAM,CAACK,MAAP,CAAcR,QAAd,EAAwBO,GAAxB;EACAhB,GAAG,GAAGP,IAAI,CAACO,GAAD,EAAM,WAAN,EAAmB,QAAnB,CAAV;EACAY,MAAM,CAACK,MAAP,CAAcjB,GAAd,EAAmBS,QAAnB;EACA,OAAOT,GAAP;AACH;;AAED,SAASJ,eAAT"},"metadata":{},"sourceType":"module"}