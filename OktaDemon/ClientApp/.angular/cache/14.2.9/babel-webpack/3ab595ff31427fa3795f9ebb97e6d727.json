{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants.js';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url.js';\nimport { isBrowser } from '../../features.js';\nimport { createHttpOptionsConstructor } from '../../http/options.js';\nimport { enableSharedStorage } from './browser.js';\nimport AuthSdkError from '../../errors/AuthSdkError.js';\n\nfunction assertValidConfig(args) {\n  args = args || {};\n  var scopes = args.scopes;\n\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' + 'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n\n  var issuer = args.issuer;\n\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  var isUrlRegex = new RegExp('^http?s?://.+');\n\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n\n  if (issuer.indexOf('-admin.') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\n\nfunction createOAuthOptionsConstructor() {\n  const HttpOptionsConstructor = createHttpOptionsConstructor();\n  return class OAuthOptionsConstructor extends HttpOptionsConstructor {\n    constructor(options) {\n      super(options);\n      assertValidConfig(options);\n      this.issuer = removeTrailingSlash(options.issuer);\n      this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n      this.pkce = options.pkce === false ? false : true;\n      this.clientId = options.clientId;\n      this.redirectUri = options.redirectUri;\n\n      if (isBrowser()) {\n        this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin);\n      }\n\n      this.responseType = options.responseType;\n      this.responseMode = options.responseMode;\n      this.state = options.state;\n      this.scopes = options.scopes;\n      this.ignoreSignature = !!options.ignoreSignature;\n      this.codeChallenge = options.codeChallenge;\n      this.codeChallengeMethod = options.codeChallengeMethod;\n      this.tokenManager = options.tokenManager;\n      this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      this.restoreOriginalUri = options.restoreOriginalUri;\n      this.transactionManager = Object.assign({\n        enableSharedStorage\n      }, options.transactionManager);\n      this.clientSecret = options.clientSecret;\n      this.setLocation = options.setLocation;\n      this.ignoreLifetime = !!options.ignoreLifetime;\n\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        this.maxClockSkew = options.maxClockSkew;\n      }\n    }\n\n  };\n}\n\nexport { createOAuthOptionsConstructor };","map":{"version":3,"names":["DEFAULT_MAX_CLOCK_SKEW","removeTrailingSlash","toAbsoluteUrl","isBrowser","createHttpOptionsConstructor","enableSharedStorage","AuthSdkError","assertValidConfig","args","scopes","Array","isArray","issuer","isUrlRegex","RegExp","test","indexOf","createOAuthOptionsConstructor","HttpOptionsConstructor","OAuthOptionsConstructor","constructor","options","tokenUrl","authorizeUrl","userinfoUrl","revokeUrl","logoutUrl","pkce","clientId","redirectUri","window","location","origin","responseType","responseMode","state","ignoreSignature","codeChallenge","codeChallengeMethod","tokenManager","postLogoutRedirectUri","restoreOriginalUri","transactionManager","Object","assign","clientSecret","setLocation","ignoreLifetime","maxClockSkew"],"sources":["C:/Users/Narean/source/repos/OktaDemon/OktaDemon/ClientApp/node_modules/@okta/okta-auth-js/esm/browser/oidc/options/OAuthOptionsConstructor.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants.js';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url.js';\nimport { isBrowser } from '../../features.js';\nimport { createHttpOptionsConstructor } from '../../http/options.js';\nimport { enableSharedStorage } from './browser.js';\nimport AuthSdkError from '../../errors/AuthSdkError.js';\n\nfunction assertValidConfig(args) {\n    args = args || {};\n    var scopes = args.scopes;\n    if (scopes && !Array.isArray(scopes)) {\n        throw new AuthSdkError('scopes must be a array of strings. ' +\n            'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n    }\n    var issuer = args.issuer;\n    if (!issuer) {\n        throw new AuthSdkError('No issuer passed to constructor. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n    }\n    var isUrlRegex = new RegExp('^http?s?://.+');\n    if (!isUrlRegex.test(issuer)) {\n        throw new AuthSdkError('Issuer must be a valid URL. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n    }\n    if (issuer.indexOf('-admin.') !== -1) {\n        throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n    }\n}\nfunction createOAuthOptionsConstructor() {\n    const HttpOptionsConstructor = createHttpOptionsConstructor();\n    return class OAuthOptionsConstructor extends HttpOptionsConstructor {\n        constructor(options) {\n            super(options);\n            assertValidConfig(options);\n            this.issuer = removeTrailingSlash(options.issuer);\n            this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n            this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n            this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n            this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n            this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n            this.pkce = options.pkce === false ? false : true;\n            this.clientId = options.clientId;\n            this.redirectUri = options.redirectUri;\n            if (isBrowser()) {\n                this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin);\n            }\n            this.responseType = options.responseType;\n            this.responseMode = options.responseMode;\n            this.state = options.state;\n            this.scopes = options.scopes;\n            this.ignoreSignature = !!options.ignoreSignature;\n            this.codeChallenge = options.codeChallenge;\n            this.codeChallengeMethod = options.codeChallengeMethod;\n            this.tokenManager = options.tokenManager;\n            this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n            this.restoreOriginalUri = options.restoreOriginalUri;\n            this.transactionManager = Object.assign({ enableSharedStorage }, options.transactionManager);\n            this.clientSecret = options.clientSecret;\n            this.setLocation = options.setLocation;\n            this.ignoreLifetime = !!options.ignoreLifetime;\n            if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n                this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n            }\n            else {\n                this.maxClockSkew = options.maxClockSkew;\n            }\n        }\n    };\n}\n\nexport { createOAuthOptionsConstructor };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}